---
services:
  main:
    dependencies:
      - mqtt
      - ServiceName
  mqtt:
    resources:
      - evergreen_1._mqtt._tcp.local
      - evergreen_1._http._tcp.local
    lifecycle:

  ServiceName:
    resources:
      - http-resource
    lifecycle:
      run:
        windows:
          powershell -command sleep 100
        posix:
          sleep 100
    parameters:
      accessControl:
        '{"aws.greengrass.ipc.pubsub":[{"policyId1":{"policyDescription":"access to pubsub topics","operations":["subscribe"],"resources":["/topic/1/#","/longer/topic/example/","*"]}}]}'

