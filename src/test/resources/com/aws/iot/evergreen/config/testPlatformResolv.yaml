services:
  haskell:
    lifecycle:
      install:
        debian: sudo apt-get install haskell-platform
        fedora: sudo yum install haskell-platform
        macos: curl -sSL https://get.haskellstack.org/ | sh

  influxdb:
    requires:
      macos: homebrew:AwaitingStartup

    lifecycle:
      install:
        macos:
          skipif: onpath influx
          script: brew install influxdb
        ubuntu:
          skipif: onpath influx
          script: apt-get update && apt-get install influxdb

      startup:
        macos: brew services start influxdb

      shutdown:
        macos: brew services stop influxdb

      run:
        raspbian: influxd

