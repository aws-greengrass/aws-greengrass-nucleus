@startuml
participant NEW
participant INSTALLING
participant AS as "Awaiting\nStartup"
participant Startup
participant RUNNING
participant Unstable
participant ERRORED
participant Recovering
participant Shutdown
participant FINISHED
NEW->INSTALLING
note right: creation & injection
INSTALLING->AS
note right: installing external assets (code, ML models, whatever...)
AS->Startup
note right: all dependencies RUNNING
Startup->RUNNING
note right: do work that must be done before the service is considered to be RUNNING
RUNNING->Unstable
note right: service detected error internally
Unstable->RUNNING
note right: service self-healed
Unstable->ERRORED
note right: service self-heal failed
RUNNING->ERRORED
note right: service error detected externally
ERRORED->Recovering
note right: external recovery started
Recovering->RUNNING
note right: external recovery succeeded
Recovering->Shutdown
note right: external recovery failed
RUNNING->FINISHED
note right: service completed its task normally
FINISHED->Startup
note right: service restarted (eg. by a timer)
@enduml

PlantUML version 1.2018.06(Mon May 21 10:34:53 UTC 2018)
(GPLV2 source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-b03
Operating System: Linux
OS Version: 4.9.137-0.1.ac.218.74.329.metal1.x86_64
Default Encoding: UTF-8
Language: en
Country: US
